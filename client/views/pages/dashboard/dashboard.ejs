<%- layout('/layouts/boilerplate') %>



<h3 class="col-3 page-header mt-4 ms-3">Dashboard</h3>

<div class="row">
<div class="col">
    <div class="card mt-4" style="height: 25em;">
        <h4 class="mt-3 ms-3 card-head">Office Overview</h4>
        <div style="width: 100%; height: 80%; margin: 0 auto;">
            <canvas id="myChart"></canvas>
        </div>

    </div>
    <div class="card mt-4 d-flex " style="height: 10em">
        <h4 class="mt-3 ms-3 card-head">Position Overview</h4>
        

        <div class="ps-3 pt-3" style="font-size: small; display: none;">
            <p id="employeeCount"><%= employeeCount %></p>
            <p id="jobCount"><%= jobOrderCount %></p>
            <p id="casualCount"><%= casualCount %></p>
            <p id="regularCount"><%= regularCount %></p>

            <p id="officeMayor"><%= officeMayor %></p>
            <p id="officeCivil"><%= officeCivil %></p>
            <p id="officeSangguniang"><%= officeSangguniang %></p>
            <p id="officeSB"><%= officeSB %></p>
            <p id="officeHuman"><%= officeHuman %></p>
            <p id="officeMPDC"><%= officeMPDC %></p>
            <p id="officeLCR"><%= officeLCR %></p>
            <p id="officeGen"><%= officeGen %></p>
            <p id="officeBudget"><%= officeBudget %></p>
            <p id="officeAccountant"><%= officeAccountant %></p>
            <p id="officeTreasurer"><%= officeTreasurer %></p>
            <p id="officeAssessor"><%= officeAssessor %></p>
            <p id="officeAuditing"><%= officeAuditing %></p>
            <p id="officeLegal"><%= officeLegal %></p>
            <p id="officeMPOC"><%= officeMPOC %></p>
            <p id="officeHigh"><%= officeHigh %></p>
            <p id="officeManpower"><%= officeManpower %></p>
            <p id="officeHealth"><%= officeHealth %></p>
            <p id="officeDSWD"><%= officeDSWD %></p>
            <p id="officeAgriculture"><%= officeAgriculture %></p>
            <p id="officeEngineering"><%= officeEngineering %></p>
            <p id="officeOperation"><%= officeOperation %></p>
            <p id="officeLGSEF"><%= officeLGSEF %></p>
            <p id="officeSpecial"><%= officeSpecial %></p>
            <p id="officeBugetary"><%= officeBugetary %></p>


        </div>
       
    </div>
</div>
<div class="col">
    <div class="row">
        <div class="col-5 card ms-3 mt-4" style="height: 10em;">
            <h4 class="mt-3 ms-1 card-head">Total Applicants</h4>
            <div class="mt-3 ps-4">
                <h2><%= applicantCount %></h2>
            </div>
            <a href="/applications" class="d-flex justify-content-end gray-text text-decoration-none align-items-center" style="font-size: 1.1em; font-weight: 600; ">View All<i class="bi bi-arrow-right-short ms-2" style="font-size: 1.5em;"></i></a>
        </div>
        
        <div class="col-5 card ms-4 mt-4" style="height: 10em">
            <h4 class="mt-3 ms-1 card-head">Total Employees</h4>
            <div class="mt-3 ps-4">
                <h2><%= employeeCount %></h2>
            </div>
            <a href="/employees" class="d-flex justify-content-end gray-text text-decoration-none align-items-center" style="font-size: 1.1em; font-weight: 600; ">View All<i class="bi bi-arrow-right-short ms-2" style="font-size: 1.5em;"></i></a>
        </div>
    </div>
    
    <div class="col-11 card ms-0 mt-4 " style="height: 25em;">
        <h4 class="mt-3 ms-3 card-head">Recruitment Progress</h4>
        <div>
            <table class="col-12 justify-content-between align-items-center text-center">
                <thead>
                    <tr class="">
                        <th class="col gray-text">Full name</th>
                        <th class="col gray-text">Department</th>
                        <th class="col gray-text">Status</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
</div>
  <script>
    // Get the values from the paragraphs

    var employeeCount = parseInt(document.getElementById('employeeCount').textContent);
    var jobCount = parseInt(document.getElementById('jobCount').textContent);
    var casualCount = parseInt(document.getElementById('casualCount').textContent);
    var regularCount = parseInt(document.getElementById('regularCount').textContent);
    
    
    var officeMayor = parseInt(document.getElementById('officeMayor').textContent);
    var officeCivil = parseInt(document.getElementById('officeCivil').textContent);
    var officeSangguniang = parseInt(document.getElementById('officeSangguniang').textContent);
    var officeSB = parseInt(document.getElementById('officeSB').textContent);
    var officeHuman = parseInt(document.getElementById('officeHuman').textContent);
    var officeMPDC = parseInt(document.getElementById('officeMPDC').textContent);
    var officeLCR = parseInt(document.getElementById('officeLCR').textContent);
    var officeBudget = parseInt(document.getElementById('officeBudget').textContent);
    var officeAccountant = parseInt(document.getElementById('officeAccountant').textContent);
    var officeTreasurer = parseInt(document.getElementById('officeTreasurer').textContent);
    var officeAssessor = parseInt(document.getElementById('officeAssessor').textContent);
    var officeAuditing = parseInt(document.getElementById('officeAuditing').textContent);
    var officeLegal = parseInt(document.getElementById('officeLegal').textContent);
    var officeMPOC = parseInt(document.getElementById('officeMPOC').textContent);
    var officeHigh = parseInt(document.getElementById('officeHigh').textContent);
    var officeManpower = parseInt(document.getElementById('officeManpower').textContent);
    var officeHealth = parseInt(document.getElementById('officeHealth').textContent);
    var officeDSWD = parseInt(document.getElementById('officeDSWD').textContent);
    var officeAgriculture = parseInt(document.getElementById('officeAgriculture').textContent);
    var officeEngineering = parseInt(document.getElementById('officeEngineering').textContent);
    var officeOperation = parseInt(document.getElementById('officeOperation').textContent);
    var officeLGSEF = parseInt(document.getElementById('officeLGSEF').textContent);
    var officeSpecial = parseInt(document.getElementById('officeSpecial').textContent);
    var officeBugetary = parseInt(document.getElementById('officeBugetary').textContent);

    // Create the data object
    var data = {
      labels: ['Office of the Civil Security',
     'Office of the Sangguniang Bayan',
     'Office of the SB Secretary',
     "Human Resource Dev't Office",
     'Office of the MPDC',
     'Office of the LCR',
     'Office of Gen. Services',
     'Office of the Budget',
     'Office of the Municipal Accountant',
     'Office of the Municipal Treasurer',
     'Office of the Municipal Assessor',
     'Municipal Auditing Office',
     'Legal Office',
     'Office of the MPOC',
     'Municipal High School',
     'Office of the Manpower Development',
     'Municipal Health Office',
     'Office of the DSWD',
     'Office of the Agriculture',
     "Municipal Engineering Office",
     'Operation Of Market',
     "LGSEF - Local Gov't Service Equalization Fund",
     'Special Purpose Appropriations',
     'Bugetary Reserve (Calamity Fund)',],
      datasets: [{
        label: 'Office Count',
        data: [  officeMayor, officeCivil, officeSangguniang, officeSB, officeHuman, officeMPDC, 
            officeLCR, officeGen, officeBudget, officeAccountant, officeTreasurer, officeAssessor, 
            officeAuditing, officeLegal, officeMPOC, officeHigh, officeManpower, 
            officeHealth, officeDSWD, officeAgriculture, officeEngineering, officeOperation, 
            officeLGSEF, officeSpecial, officeBugetary],
        backgroundColor: [
        'rgba(63, 116, 96, 0.7)',   // Greenish Blue
        'rgba(87, 129, 123, 0.7)',   // Teal
        'rgba(117, 105, 128, 0.7)',  // Purple
        'rgba(160, 108, 86, 0.7)',   // Burnt Sienna
        'rgba(111, 133, 109, 0.7)',  // Olive Green
        'rgba(116, 115, 138, 0.7)',  // Slate Blue
        'rgba(150, 153, 107, 0.7)',  // Olive Drab
        'rgba(157, 130, 110, 0.7)',  // Tan
        'rgba(138, 150, 109, 0.7)',  // Moss Green
        'rgba(119, 130, 107, 0.7)',  // Forest Green
        'rgba(183, 78, 77, 0.7)',    // Maroonish
        'rgba(75, 97, 146, 0.7)',    // Blueish
        'rgba(147, 143, 60, 0.7)',   // Olive
        'rgba(60, 147, 123, 0.7)',   // Tealish Green
        'rgba(92, 98, 124, 0.7)',    // Slate Gray
        'rgba(160, 91, 52, 0.7)',    // Rust
        'rgba(76, 89, 93, 0.7)',     // Dark Gray
        'rgba(79, 110, 112, 0.7)',   // Bluish Gray
        'rgba(122, 64, 46, 0.7)',    // Dark Reddish Brown
        'rgba(46, 57, 80, 0.7)',     // Dark Blue
        'rgba(125, 57, 124, 0.7)',   // Dark Purple
        'rgba(46, 80, 62, 0.7)',     // Dark Green
        'rgba(112, 62, 62, 0.7)',    // Dark Brown
        'rgba(75, 98, 75, 0.7)',     // Greenish Gray
        'rgba(96, 55, 75, 0.7)'      // Dark Pink
        ],
        borderColor: [
        'rgba(63, 116, 96, 1)',    // Greenish Blue
        'rgba(87, 129, 123, 1)',    // Teal
        'rgba(117, 105, 128, 1)',   // Purple
        'rgba(160, 108, 86, 1)',    // Burnt Sienna
        'rgba(111, 133, 109, 1)',   // Olive Green
        'rgba(116, 115, 138, 1)',   // Slate Blue
        'rgba(150, 153, 107, 1)',   // Olive Drab
        'rgba(157, 130, 110, 1)',   // Tan
        'rgba(138, 150, 109, 1)',   // Moss Green
        'rgba(119, 130, 107, 1)',   // Forest Green
        'rgba(183, 78, 77, 1)',     // Maroonish
        'rgba(75, 97, 146, 1)',     // Blueish
        'rgba(147, 143, 60, 1)',    // Olive
        'rgba(60, 147, 123, 1)',    // Tealish Green
        'rgba(92, 98, 124, 1)',     // Slate Gray
        'rgba(160, 91, 52, 1)',     // Rust
        'rgba(76, 89, 93, 1)',      // Dark Gray
        'rgba(79, 110, 112, 1)',    // Bluish Gray
        'rgba(122, 64, 46, 1)',     // Dark Reddish Brown
        'rgba(46, 57, 80, 1)',      // Dark Blue
        'rgba(125, 57, 124, 1)',    // Dark Purple
        'rgba(46, 80, 62, 1)',      // Dark Green
        'rgba(112, 62, 62, 1)',     // Dark Brown
        'rgba(75, 98, 75, 1)',      // Greenish Gray
        'rgba(96, 55, 75, 1)'       // Dark Pink
        ],
        borderWidth: 1
      }]
    };
  
    // Get the canvas element
    var ctx = document.getElementById('myChart').getContext('2d');
  
    // Create the chart
    var myChart = new Chart(ctx, {
      type: 'bar',
      data: data,
      options: {
          // Chart options
          responsive: true,
          maintainAspectRatio: true,
          scales: {
            x: {
              display: false,
              grid: {
                display: true,
              },
            },
            y: {
              grid: {
                display: false,
              },
              display: true, // Hide y-axis labels
              ticks: {
                display: true,
                padding: 0,
                font: {
                  size: 10,
                },
              },
            },
          },
          plugins: {
            tooltip: {
              enabled: true, 
            },
            legend: {
              display: false, // Hide the legend
            },
          },
            elements: {
              point: {
                radius: 0, // Set the point radius to 0 to hide the points
                hoverRadius: 7 // Set the hover point radius to 0 to hide the points on hover
             }
           }
          }
    });
  </script>